{namespace register=Tx_SfRegister_ViewHelpers}
create Action

<f:form action="preview" name="user" object="{user}" enctype="multipart/form-data">
<f:render partial="fieldError" arguments="{field: 'user.uid'}"/>

<dl>
	<dt><f:translate key="username"/><f:render partial="required" arguments="{field: 'username'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.username'}"/>
		<f:form.textfield property="username"/></dd>

	<dt><f:translate key="pseudonym"/><f:render partial="required" arguments="{field: 'pseudonym'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.pseudonym'}"/>
		<f:form.textfield property="pseudonym"/></dd>

	<dt><f:translate key="password"/><f:render partial="required" arguments="{field: 'password'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.password'}"/>
		<f:form.password property="password" value="" id="sfrPassword"/>
		<div id="bargraph" class="is0"></div></dd>

	<dt><f:translate key="passwordRepeat"/><f:render partial="required" arguments="{field: 'passwordRepeat'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.passwordRepeat'}"/>
		<f:form.password property="passwordRepeat" value=""/></dd>
</dl>
<dl>
	<dt><f:translate key="gender"/><f:render partial="required" arguments="{field: 'gender'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.gender'}"/>
		<f:form.radio property="gender" value="1"/> <f:translate key="gender_male"/>
		<f:form.radio property="gender" value="2"/> <f:translate key="gender_female"/><br/>
		<f:form.select property="gender" options="{
				1: '{f:translate(key: \'gender_male\')}',
				2: '{f:translate(key: \'gender_female\')}'
			}"/>
		</dd>

	<dt><f:translate key="title"/><f:render partial="required" arguments="{field: 'title'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.title'}"/>
		<f:form.textfield property="title"/>
		<f:form.select property="title" options="{
				none: '{f:translate(key: \'title_none\')}',
				dr: '{f:translate(key: \'title_dr\')}',
				prof: '{f:translate(key: \'title_prof\')}',
				profdr: '{f:translate(key: \'title_profdr\')}'
			}"/>
		</dd>

	<dt><f:translate key="company"/><f:render partial="required" arguments="{field: 'company'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.company'}"/>
		<f:form.textfield property="company"/></dd>

	<dt><f:translate key="lastName"/><f:render partial="required" arguments="{field: 'lastName'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.lastName'}"/>
		<f:form.textfield property="lastName"/></dd>

	<dt><f:translate key="firstName"/><f:render partial="required" arguments="{field: 'firstName'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.firstName'}"/>
		<f:form.textfield property="firstName"/></dd>

	<dt><f:translate key="email"/><f:render partial="required" arguments="{field: 'email'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.email'}"/>
		<f:form.textfield property="email"/></dd>

	<dt><f:translate key="emailRepeat"/><f:render partial="required" arguments="{field: 'emailRepeat'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.emailRepeat'}"/>
		<f:form.textfield property="emailRepeat"/></dd>

	<dt><f:translate key="telephone"/><f:render partial="required" arguments="{field: 'telephone'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.telephone'}"/>
		<f:form.textfield property="telephone"/></dd>

	<dt><f:translate key="mobilephone"/><f:render partial="required" arguments="{field: 'mobilephone'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.mobilephone'}"/>
		<f:form.textfield property="mobilephone"/></dd>

	<dt><f:translate key="fax"/><f:render partial="required" arguments="{field: 'fax'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.fax'}"/>
		<f:form.textfield property="fax"/></dd>

	<dt><f:translate key="address"/><f:render partial="required" arguments="{field: 'address'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.address'}"/>
		<f:form.textfield property="address"/></dd>

	<dt><f:translate key="zip"/><f:render partial="required" arguments="{field: 'zip'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.zip'}"/>
		<f:form.textfield property="zip"/></dd>

	<dt><f:translate key="city"/><f:render partial="required" arguments="{field: 'city'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.city'}"/>
		<f:form.textfield property="city"/></dd>

	<dt><f:translate key="country"/><f:render partial="required" arguments="{field: 'country'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.country'}"/>
		<f:if condition="{user.staticInfoCountry}">
			<f:then>
				<register:form.SelectStaticCountries property="staticInfoCountry" id="sfrCountry"/>
			</f:then>
			<f:else>
				<register:form.SelectStaticCountries property="staticInfoCountry" id="sfrCountry" value="US"/>
			</f:else>
		</f:if></dd>

	<dt><f:translate key="zone"/><f:render partial="required" arguments="{field: 'zone'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.zone'}"/>
		<f:if condition="{user.staticInfoCountry}">
			<f:then>
				<register:form.SelectStaticCountryZones property="zone" id="sfrZone" parent="{user.staticInfoCountry}"/>
			</f:then>
			<f:else>
				<register:form.SelectStaticCountryZones property="zone" id="sfrZone" parent="US"/>
			</f:else>
		</f:if>
		<div id="sfrZone_empty" style="display: none;"><f:translate key="no_zone_available"/></div>
		<div id="sfrZone_loading" style="display: none;"><f:translate key="zone_loading"/></div></dd>

	<dt><f:translate key="daylight"/><f:render partial="required" arguments="{field: 'daylight'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.daylight'}"/>
		<f:form.checkbox property="daylight" value="1"/></dd>

	<dt><f:translate key="timezone"/><f:render partial="required" arguments="{field: 'timezone'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.timezone'}"/>
		<f:render partial="selectTimezone" arguments="{user: user}"/></dd>

	<dt><f:translate key="gtc"/><f:render partial="required" arguments="{field: 'gtc'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.gtc'}"/>
		<f:form.checkbox property="gtc" value="1"/></dd>

	<dt><f:translate key="privacy"/><f:render partial="required" arguments="{field: 'privacy'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.privacy'}"/>
		<f:form.checkbox property="privacy" value="1"/></dd>

	<dt><f:translate key="image"/><f:render partial="required" arguments="{field: 'image'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.image'}"/>
		<f:if condition="{user.image}">
			<f:then>
				<f:form.hidden property="image"/>
				<f:form.hidden name="temporaryImage" value="{temporaryImage}"/>
				<f:form.hidden name="imagefile" value="{user.image}"/>
				<f:if condition="{temporaryImage}">
					<f:then>
						<f:image height="100" width="100c" src="typo3temp/sf_register/{user.image}" alt="{user.firstName} {user.lastName}" title="{user.firstName} {user.lastName}"/>
					</f:then>
					<f:else>
						<f:image height="100" width="100c" src="uploads/pics/{user.image}" alt="{user.firstName} {user.lastName}" title="{user.firstName} {user.lastName}"/>
					</f:else>
				</f:if>
				<f:form.submit name="removeImage" value="{f:translate(key:'submit.removeImage')}"/>
			</f:then>
			<f:else>
				<f:form.hidden property="image" value=""/>
				<f:form.hidden name="temporaryImage" value="1"/>
				<f:form.upload name="image"/>
			</f:else>
		</f:if></dd>

	<dt><f:translate key="dateOfBirth"/><f:render partial="required" arguments="{field: 'dateOfBirth'}"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.dateOfBirth'}"/>
		<f:form.textfield property="dateOfBirth"/>
		<register:form.rangeSelect start="1" end="31" property="dateOfBirthDay"/>-<register:form.rangeSelect start="1" end="12" property="dateOfBirthMonth"/>-<register:form.rangeSelect start="1960" end="2011" property="dateOfBirthYear"/></dd>

	<dt>&nbsp;</dt>
	<dd>
		<f:render partial="captchaJmRecaptcha"/>
		<f:render partial="captchaSrFreecap"/>

		<f:render partial="fieldError" arguments="{field: 'user.captcha'}"/>
		<f:form.textfield property="captcha" value="" id="iCaptcha" maxlength="15"/>
	</dd>

	<dt>&nbsp;</dt>
	<dd><f:form.submit class="submit" value="{f:translate(key:'submit.create')}"/></dd>
</dl>
</f:form>
<div class="mandatory"><f:translate key="info.mandatory.fields" htmlEscape="false"/></div>
