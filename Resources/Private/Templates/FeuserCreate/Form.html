{namespace register=Tx_SfRegister_ViewHelpers}
create Action

<f:form action="preview" name="user" object="{user}" enctype="multipart/form-data">
<f:render partial="fieldError" arguments="{field: 'user.uid'}" />

<dl>
	<dt><f:translate key="username"/>*</dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.username'}" />
		<f:form.textbox property="username" /></dd>

	<dt><f:translate key="newPassword1"/>*</dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.password'}" />
		<f:form.password property="password" value="" id="sfrPassword" />
		<div id="bargraph" class="is0"></div></dd>

	<dt><f:translate key="newPassword2"/>*</dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'passwordAgain'}" />
		<f:form.password name="passwordAgain" value="" /></dd>
</dl>
<dl>
	<dt><f:translate key="gender"/>*</dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.gender'}" />
		<f:form.textbox property="gender" /></dd>

	<dt><f:translate key="title"/>*</dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.title'}" />
		<f:form.textbox property="title" />
		<f:form.select property="title" options="{
				none: '{f:translate(key: \'title_none\')}',
				dr: '{f:translate(key: \'title_dr\')}',
				prof: '{f:translate(key: \'title_prof\')}',
				profdr: '{f:translate(key: \'title_profdr\')}'
			}"/>
		</dd>

	<dt><f:translate key="company"/>*</dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.company'}" />
		<f:form.textbox property="company" /></dd>

	<dt><f:translate key="lastName"/>*</dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.lastName'}" />
		<f:form.textbox property="lastName" /></dd>

	<dt><f:translate key="firstName"/>*</dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.firstName'}" />
		<f:form.textbox property="firstName" /></dd>

	<dt><f:translate key="email"/>*</dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.email'}" />
		<f:form.textbox property="email" /></dd>

	<dt><f:translate key="telephone"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.telephone'}" />
		<f:form.textbox property="telephone" /></dd>

	<dt><f:translate key="mobilephone"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.mobilphone'}" />
		<f:form.textbox property="mobilephone" /></dd>

	<dt><f:translate key="fax"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.fax'}" />
		<f:form.textbox property="fax" /></dd>

	<dt><f:translate key="address"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.address'}" />
		<f:form.textbox property="address" /></dd>

	<dt><f:translate key="zip"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.zip'}" />
		<f:form.textbox property="zip" /></dd>

	<dt><f:translate key="city"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.city'}" />
		<f:form.textbox property="city" /></dd>

	<dt><f:translate key="country"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.country'}" />
		<f:form.textbox property="country" /></dd>

	<dt><f:translate key="gtc"/>*</dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.gtc'}" />
		<f:form.checkbox property="gtc" value="1"/></dd>

	<dt><f:translate key="image"/></dt>
	<dd>
		<f:render partial="fieldError" arguments="{field: 'user.image'}" />
		<f:if condition="{user.image}">
			<f:then>
				<f:form.hidden property="image" />
				<f:form.hidden name="temporaryImage" value="{temporaryImage}" />
				<f:form.hidden name="imagefile" value="{user.image}" />
				<f:if condition="{temporaryImage}">
					<f:then>
						<f:image height="100" width="100c" src="typo3temp/sf_register/{user.image}" alt="{user.firstName} {user.lastName}" title="{user.firstName} {user.lastName}" />
					</f:then>
					<f:else>
						<f:image height="100" width="100c" src="uploads/pics/{user.image}" alt="{user.firstName} {user.lastName}" title="{user.firstName} {user.lastName}" />
					</f:else>
				</f:if>
				<f:form.submit name="removeImage" value="{f:translate(key:'submit.removeImage')}" />
			</f:then>
			<f:else>
				<f:form.hidden property="image" value="" />
				<f:form.hidden name="temporaryImage" value="1" />
				<f:form.upload name="image"/>
			</f:else>
		</f:if></dd>

	<dt>&nbsp;</dt>
	<dd>
		<f:render partial="captchaJmRecaptcha" />
		<f:render partial="captchaSrFreecap" />

		<f:render partial="fieldError" arguments="{field: 'user.captcha'}" />
		<f:form.textbox property="captcha" id="iCaptcha" maxlength="15"/>
	</dd>

	<dt>&nbsp;</dt>
	<dd><f:form.submit class="submit" value="{f:translate(key:'submit.create')}" /></dd>
</dl>
</f:form>
<div class="mandatory"><f:translate key="info.mandatory.fields" htmlEscape="false"/></div>
